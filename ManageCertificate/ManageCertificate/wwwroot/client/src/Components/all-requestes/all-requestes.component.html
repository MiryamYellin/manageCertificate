<p>TEH REQUEST:</p>
<div *ngIf="isLoading" class="loading-container">
 
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</div>
<div>
  

  <h1>סינונים</h1>
  
  <div class="filters-container">
    <!-- סינון לפי סטטוס בקשה -->
    <mat-form-field appearance="fill" class="filter-item">
      <mat-label>סינון לפי סטטוס בקשה</mat-label>
      <mat-select (selectionChange)="onSelectChange($event)">
        <mat-option value="">בחר סטטוס</mat-option>
        <mat-option *ngFor="let status of ListRefStatus" [value]="status.id">
          {{ status.name }} 👍
        </mat-option>
      </mat-select>
    </mat-form-field>
  
    <!-- סינון לפי לשכת נישואין -->
    <mat-form-field appearance="fill" class="filter-item">
      <mat-label>סינון לפי לשכת נישואין</mat-label>
      <input matInput type="text" placeholder="הכנס לשכה" (input)="onInputChangeCouncil($event)">
    </mat-form-field>
  
    <!-- סינון לפי מספר בקשה -->
    <mat-form-field appearance="fill" class="filter-item">
      <mat-label>Filter by Request ID</mat-label>
      <input matInput type="text" placeholder="הכנס מספר בקשה" (input)="onInputChangeNumReq($event)">
    </mat-form-field>
  
    <!-- סינון לפי תאריך הזמנה -->
    <mat-form-field appearance="fill" class="filter-item">
      <mat-label>סינון לפי תאריך הזמנה</mat-label>
      <input matInput [matDatepicker]="picker" (dateChange)="onDateChange($event)">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
  </div>
<div>
<!-- טבלת הבקשות -->
<table mat-table [dataSource]="ListRequestes" class="mat-elevation-z8">

  <ng-container matColumnDef="requestId">
    <th mat-header-cell *matHeaderCellDef> מספר בקשה </th>
    <td mat-cell *matCellDef="let element">{{ element.requestId }}</td>
  </ng-container>
<!-- 
  <ng-container matColumnDef="requestStatus">
    <th mat-header-cell *matHeaderCellDef> סטטוס בקשה </th>
    <td mat-cell *matCellDef="let element">{{ element.r }}</td>
  </ng-container>  -->

  <ng-container matColumnDef="orderDate">
    <th mat-header-cell *matHeaderCellDef> תאריך בקשה </th>
    <td mat-cell *matCellDef="let element">{{ element.orderDate }}</td>
  </ng-container>

  <ng-container matColumnDef="deliveryMethod">
    <th mat-header-cell *matHeaderCellDef> שיטת איסוף</th>
    <td mat-cell *matCellDef="let element">{{ element.deliveryMethod }}</td>
  </ng-container>

  <ng-container matColumnDef="officeComment">
    <th mat-header-cell *matHeaderCellDef> הערת משרד </th>
    <td mat-cell *matCellDef="let element">{{ element?.officeComment || 'אין הערות' }}</td>
  </ng-container>


  <ng-container matColumnDef="councilId">
    <th mat-header-cell *matHeaderCellDef> מספר לשכה</th>
    <td mat-cell *matCellDef="let element">
      {{ element?.council?.name }}
  
    </td>
  </ng-container>

  
 
  <ng-container matColumnDef="requestStatus">
    <th mat-header-cell *matHeaderCellDef> סטטוס בקשה </th>

    <td mat-cell *matCellDef="let element">
      {{ element?.requestStatusNavigation?.name || 'סטטוס לא זמין' }}
    
    </td>
  </ng-container>

  
  <!-- Actions Column -->
  <ng-container matColumnDef="Actions">
    <th mat-header-cell *matHeaderCellDef> Actions </th>
    <td mat-cell *matCellDef="let element">
      <div class="actions">
        <!-- <button mat-icon-button (click)="openDialogEdit(element)">
          <mat-icon>edit</mat-icon>
        </button> -->
      </div>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>