
      <!-- Filter by Request Number -->
      <mat-form-field appearance="fill" class="filter-item">
        <mat-label>סינון לפי שנה</mat-label>
        <input
          matInput
          type="number"
          placeholder="הכנס  שנה"
          [value]="isReset ? '' : selectedYear"
          (input)="onInputChangeYear($event)"
        />
      </mat-form-field>
      <!-- <mat-form-field appearance="fill" class="filter-item">
        <mat-label>סינון לפי לשכה</mat-label>
        <input
          matInput
          type="number"
          placeholder="הכנס  מספר לשכה"
          [value]="isReset ? '' : selectedCouncilId"
          (input)="onInputChangeCouncilId($event)"
        />
      </mat-form-field> -->
      <div id="inventoryList" class="inventory-container">
        <div class="table-container">
          <table mat-table [dataSource]="ListRefInventory" class="mat-elevation-z8 custom-table">

      

<ng-container matColumnDef="councilName">
  <th mat-header-cell *matHeaderCellDef> שם מועצה </th>
  <td mat-cell *matCellDef="let item"> {{ item.council.name }} </td>
</ng-container>
            <!-- Year Column -->
            <ng-container matColumnDef="year">
              <th mat-header-cell *matHeaderCellDef> שנה </th>
              <td mat-cell *matCellDef="let item"> {{ item.year || 'N/A' }} </td>
            </ng-container>

        <!-- Certificate Name Column -->
        <ng-container matColumnDef="certificate">
          <th mat-header-cell *matHeaderCellDef> שם תעודה </th>
          <td mat-cell *matCellDef="let item"> {{ item.certificate?.name || 'N/A' }} </td>
        </ng-container>
            <!-- Certificate Name Column -->
            <ng-container matColumnDef="inventory">
              <th mat-header-cell *matHeaderCellDef> אומדן שנתי- מלאי שנתי  </th>
              <td mat-cell *matCellDef="let item">{{item.year==currentYear? item.inventory : item.inventory  +'(אין מלאי לשנה הנוכחית)'}}</td>
            </ng-container>
              <!-- Certificate Name Column -->
              <ng-container matColumnDef="supplyAmmount">
                <th mat-header-cell *matHeaderCellDef> ניצול שנתי (תעודות שסופקו) </th>
                <td mat-cell *matCellDef="let item"></td>
              </ng-container>
                <!-- Certificate Name Column -->
            <ng-container matColumnDef="inventoryBalance">
              <th mat-header-cell *matHeaderCellDef>  יתרה לא מנוצלת  </th>
              <td mat-cell *matCellDef="let item"></td>
            </ng-container>
        <!-- Certificate Name Column -->
        <ng-container matColumnDef="save">
          <th mat-header-cell *matHeaderCellDef> שמור </th>
          <td mat-cell *matCellDef="let item">   <mat-icon>save</mat-icon> </td>
        </ng-container>

          
      
            <!-- Header and Row Definitions -->
            <tr mat-header-row *matHeaderRowDef="inventoryDisplayedCol"></tr>
            <tr mat-row *matRowDef="let row; columns: inventoryDisplayedCol;"></tr>
          </table>
      
          <p *ngIf="ListRefInventory.length === 0" class="no-data-message">
            אין נתונים להצגה.
          </p>
        </div>
      </div>
<div id="inventoryBalance" class="inventory-container">
    <div class="table-container" *ngIf="!isLoading; else loading">
      <table mat-table [dataSource]="updatedCertificateTypes" class="mat-elevation-z8 custom-table">
  
        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> שם </th>
          <td mat-cell *matCellDef="let type"> {{ type.name }} </td>
        </ng-container>
  
        <!-- Inventory Column -->
        <ng-container matColumnDef="inventory">
          <th mat-header-cell *matHeaderCellDef>   מלאי עדכני </th>
          <td mat-cell *matCellDef="let type">
            <span>
              {{ type.CURRENT_iNVENTORY < 0 ? 'חסר הגדרה' : type.CURRENT_iNVENTORY }}
            </span>
            <span *ngIf="type.CURRENT_iNVENTORY < 0" class="warning-balance">&#x26A0;</span>
          </td>
        </ng-container>
  
        <!-- Inventory Balance Column -->
        <ng-container matColumnDef="inventoryBalance">
          <th mat-header-cell *matHeaderCellDef>  יתרת מלאי לא מנוצלת  </th>
          <td mat-cell *matCellDef="let type">
            <span>
              {{ type.TOTAL_INVENTORY_BALANCES < 0 ? 'חסר הגדרה' : type.TOTAL_INVENTORY_BALANCES }}
            </span>
            <span *ngIf="type.TOTAL_INVENTORY_BALANCES < 0" class="warning-balance">&#x26A0;</span>
          </td>
        </ng-container>

        <!-- Minimum Balance Column -->
        <ng-container matColumnDef="minimumBalance">
          <th mat-header-cell *matHeaderCellDef> מינימום </th>
          <td mat-cell *matCellDef="let type">
            <!-- {{ type.minimumBalance || 'N/A' }} -->
          </td>
        </ng-container>
  
        <!-- Save Column -->
        <ng-container matColumnDef="save">
          <th mat-header-cell *matHeaderCellDef> שמירה </th>
          <td mat-cell *matCellDef="let type">
            <div class="actions">
              <mat-icon>save</mat-icon>
            </div>
          </td>
        </ng-container>
  
        <!-- Header and Row Definitions -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
  
      <p *ngIf="updatedCertificateTypes.length === 0" class="no-data-message">
        No data available to display.
      </p>
    </div>
  
    <ng-template #loading>
      <div class="loading-container">
        <mat-spinner></mat-spinner>
        <p>Loading data...</p>
      </div>
    </ng-template>
  </div>
      